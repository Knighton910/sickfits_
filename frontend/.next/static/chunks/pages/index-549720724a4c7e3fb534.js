(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8474:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return r.default}});var r=t(2206)},2206:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return k}});var r=t(5893);var o,i=t(655),a=t(7294),u=t(2152),s=t(4273),l=t(1498),c=t(5942),d=t(2714);!function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"}(o||(o={}));var p=new Map;function f(e){var n;switch(e){case o.Query:n="Query";break;case o.Mutation:n="Mutation";break;case o.Subscription:n="Subscription"}return n}function v(e,n){var t=function(e){var n,t,r=p.get(e);if(r)return r;__DEV__?(0,d.kG)(!!e&&!!e.kind,"Argument of ".concat(e," passed to parser was not a valid GraphQL ")+"DocumentNode. You may need to use 'graphql-tag' or another method to convert your operation into a document"):(0,d.kG)(!!e&&!!e.kind,30);var i=e.definitions.filter((function(e){return"FragmentDefinition"===e.kind})),a=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"query"===e.operation})),u=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation})),s=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"subscription"===e.operation}));__DEV__?(0,d.kG)(!i.length||a.length||u.length||s.length,"Passing only a fragment to 'graphql' is not yet supported. You must include a query, subscription or mutation as well"):(0,d.kG)(!i.length||a.length||u.length||s.length,31),__DEV__?(0,d.kG)(a.length+u.length+s.length<=1,"react-apollo only supports a query, subscription, or a mutation per HOC. "+"".concat(e," had ").concat(a.length," queries, ").concat(s.length," ")+"subscriptions and ".concat(u.length," mutations. ")+"You can use 'compose' to join multiple operation types to a component"):(0,d.kG)(a.length+u.length+s.length<=1,32),t=a.length?o.Query:o.Mutation,a.length||u.length||(t=o.Subscription);var l=a.length?a:u.length?u:s;__DEV__?(0,d.kG)(1===l.length,"react-apollo only supports one definition per HOC. ".concat(e," had ")+"".concat(l.length," definitions. ")+"You can use 'compose' to join multiple operation types to a component"):(0,d.kG)(1===l.length,33);var c=l[0];n=c.variableDefinitions||[];var f={name:c.name&&"Name"===c.name.kind?c.name.value:"data",type:t,variables:n};return p.set(e,f),f}(e),r=f(n),i=f(t.type);__DEV__?(0,d.kG)(t.type===n,"Running a ".concat(r," requires a graphql ")+"".concat(r,", but a ").concat(i," was used instead.")):(0,d.kG)(t.type===n,34)}function h(e,n){var t,r=(0,a.useContext)((0,s.K)()),p=function(e){var n=(0,a.useContext)((0,s.K)()),t=e||n.client;return __DEV__?(0,d.kG)(!!t,'Could not find "client" in the context or passed in as an option. Wrap the root component in an <ApolloProvider>, or pass an ApolloClientApolloClient instance in via options.'):(0,d.kG)(!!t,29),t}(null===n||void 0===n?void 0:n.client);v(e,o.Query);var f,h=(0,a.useState)((function(){var t=g(e,n),o=null;return r.renderPromises&&(o=r.renderPromises.getSSRObservable(t)),o||(o=p.watchQuery(t),r.renderPromises&&r.renderPromises.registerSSRObservable(o,t)),r.renderPromises&&!1!==(null===n||void 0===n?void 0:n.ssr)&&!(null===n||void 0===n?void 0:n.skip)&&o.getCurrentResult().loading&&r.renderPromises.addQueryPromise({getOptions:function(){return g(e,n)},fetchData:function(){return new Promise((function(e){var n=o.subscribe({next:function(t){t.loading||(e(),n.unsubscribe())},error:function(){e(),n.unsubscribe()},complete:function(){e()}})}))}},(function(){return null})),o})),b=h[0],y=h[1],m=(0,a.useState)((function(){var e,t,r=b.getCurrentResult();return!r.loading&&n&&(r.error?null===(e=n.onError)||void 0===e||e.call(n,r.error):r.data&&(null===(t=n.onCompleted)||void 0===t||t.call(n,r.data))),r})),k=m[0],_=m[1],P=(0,a.useRef)({client:p,query:e,options:n,result:k,previousData:void 0,watchQueryOptions:g(e,n)});(0,a.useEffect)((function(){var t,r,o,i=g(e,n);if(P.current.client===p&&(0,u.D)(P.current.query,e))(0,u.D)(P.current.watchQueryOptions,i)||(b.setOptions(i).catch((function(){})),o=b.getCurrentResult(),P.current.watchQueryOptions=i);else{var a=p.watchQuery(i);y(a),o=a.getCurrentResult()}if(o){var s=P.current.result;s.data&&(P.current.previousData=s.data),_(P.current.result=o),!o.loading&&n&&(k.loading||(k.error?null===(t=n.onError)||void 0===t||t.call(n,k.error):k.data&&(null===(r=n.onCompleted)||void 0===r||r.call(n,k.data))))}Object.assign(P.current,{client:p,query:e,options:n})}),[b,p,e,n]),(0,a.useEffect)((function(){if(!r.renderPromises){var e=b.subscribe(n,(function t(r){var o,i,a=b.last;e.unsubscribe();try{b.resetLastResults(),e=b.subscribe(n,t)}finally{b.last=a}if(!r.hasOwnProperty("graphQLErrors"))throw r;var s=P.current.result;(s&&s.loading||!(0,u.D)(r,s.error))&&(_(P.current.result={data:s.data,error:r,loading:!1,networkStatus:c.I.error}),null===(i=null===(o=P.current.options)||void 0===o?void 0:o.onError)||void 0===i||i.call(o,r))}));return function(){return e.unsubscribe()}}function n(){var e,n,t=P.current.result,r=b.getCurrentResult();t&&t.loading===r.loading&&t.networkStatus===r.networkStatus&&(0,u.D)(t.data,r.data)||(t.data&&(P.current.previousData=t.data),_(P.current.result=r),r.loading||null===(n=null===(e=P.current.options)||void 0===e?void 0:e.onCompleted)||void 0===n||n.call(e,r.data))}}),[b,r.renderPromises,p.disableNetworkFetches]),f=(t=k).partial,k=(0,i._T)(t,["partial"]),!f||!(null===n||void 0===n?void 0:n.partialRefetch)||k.loading||k.data&&0!==Object.keys(k.data).length||"cache-only"===b.options.fetchPolicy||(k=(0,i.pi)((0,i.pi)({},k),{loading:!0,networkStatus:c.I.refetch}),b.refetch()),r.renderPromises&&!1!==(null===n||void 0===n?void 0:n.ssr)&&!(null===n||void 0===n?void 0:n.skip)&&k.loading&&b.setOptions(g(e,n)).catch((function(){})),(r.renderPromises||p.disableNetworkFetches)&&!1===(null===n||void 0===n?void 0:n.ssr)?k=P.current.result={loading:!0,data:void 0,error:void 0,networkStatus:c.I.loading}:((null===n||void 0===n?void 0:n.skip)||"standby"===(null===n||void 0===n?void 0:n.fetchPolicy))&&(k={loading:!1,data:void 0,error:void 0,networkStatus:c.I.ready}),k.errors&&k.errors.length&&(k=(0,i.pi)((0,i.pi)({},k),{error:k.error||new l.c({graphQLErrors:k.errors})}));var w=(0,a.useMemo)((function(){return{refetch:b.refetch.bind(b),fetchMore:b.fetchMore.bind(b),updateQuery:b.updateQuery.bind(b),startPolling:b.startPolling.bind(b),stopPolling:b.stopPolling.bind(b),subscribeToMore:b.subscribeToMore.bind(b)}}),[b]);return(0,i.pi)((0,i.pi)((0,i.pi)({},w),{variables:b.variables,client:p,called:!0,previousData:P.current.previousData}),k)}function g(e,n){var t;void 0===n&&(n={});var r=n.skip,o=(n.ssr,n.onCompleted,n.onError,n.displayName,(0,i._T)(n,["skip","ssr","onCompleted","onError","displayName"]));return r?o.fetchPolicy="standby":(!(null===(t=o.context)||void 0===t?void 0:t.renderPromises)||"network-only"!==o.fetchPolicy&&"cache-and-network"!==o.fetchPolicy)&&o.fetchPolicy||(o.fetchPolicy="cache-first"),(0,i.pi)({query:e},o)}function b(){var e,n,t=(e=["\n  # Write your query or mutation here\n  query ALL_PRODUCTS_QUERY {\n    allProducts {\n      id\n      name\n      price\n      description\n      photo {\n        id\n        image {\n          publicUrlTransformed\n        }\n      }\n    }\n  }\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return b=function(){return t},t}var y=(0,t(7521).ZP)(b());function m(){var e=h(y),n=e.data,t=e.error,o=e.loading;return console.log(n,t,o),o?(0,r.jsx)("p",{children:"Loading..."}):(0,r.jsx)("div",{children:(0,r.jsx)("p",{children:"Products!!"})})}function k(){return(0,r.jsx)("div",{children:(0,r.jsx)(m,{})})}},8581:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(8474)}])}},function(e){e.O(0,[774,888,179],(function(){return n=8581,e(e.s=n);var n}));var n=e.O();_N_E=n}]);